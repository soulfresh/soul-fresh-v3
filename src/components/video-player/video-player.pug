.video-container(name="videoContainer")
  .play-video(name="playVideo")
    .icon-wrapper
      i.fas.fa-play-circle.play-icon.color-background
      svg.loader.color-text(
        viewBox="0 0 100 100"
      )
        rect.background(
          x="0",
          y="0",
          width="100",
          height="100"
        )
        circle.dashes(
          cx="50",
          cy="50",
          r="30"
        )
  .mute-video(name="muteVideo")
    i.fas.fa-volume-mute.color-text

  -
    //- var root = "assets/video";
    var root = "https://storage.googleapis.com/soul-fresh-com-videos";
    var image = encodeURIComponent(project.preview.meta.img);
    var poster = `assets/poster-frames/${image}`;
    var sources = project.preview.src;
    var large = sources.large[0];
    var parts = large.split(' x ');
    var partsL = parts[0].trim().split(' ');
    var partsR = parts[1].trim().split(' ');
    var width = parseInt(partsL[partsL.length - 1], 10);
    var height = parseInt(partsR[0], 10);
    var ratio = (height / width) * 100;

    var style = `background-image: url(${poster});`;
    style    += `padding-top: ${ratio}%;`;
    style    += "background-size: cover;"

  img(
    class="video-placeholder"
    name="videoPlaceholder",
    src=`../../${poster}`,
    data-poster=`/${poster}`,
    data-id=project.id,
    data-root=root,
    data-large=sources.large.join('||'),
    data-small=sources.small.join('||'),
  )

